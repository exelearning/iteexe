var objBrowse=navigator.appName;var exe_isTouchScreenDev=false;var addedAudioTags=false;var audioTagInterval=null;function exeWriteSFXAudioTags(){if(addedAudioTags==false){if(audioTagInterval==null){audioTagInterval=setInterval("exeWriteSFXAudioTags()",30)}if(document.body!=null){var a=0;clearInterval(audioTagInterval);audioTagInterval=null;addedAudioTags=true;var b=makeSoundDOMElements();var f=0;for(var d=0;d<b.length;d++){document.body.appendChild(b[d])}}}}function findAllMediaInElement(g){var a=new Array();for(var d=0;d<g.childNodes.length;d++){var f=g.childNodes[d];if(f.childNodes.length>0){var h=findAllMediaInElement(f);for(var b=0;b<h.length;b++){a[a.length]=h[b]}if(f.nodeName=="AUDIO"|f.nodeName=="VIDEO"){a[a.length]=f}}}return a}var mediaLoadInterval=null;var mediaCheckElement=null;var mediaCallback=null;var mediaToWaitFor=null;function checkAllMediaLoaded(f,b){if(mediaCheckElement==null){mediaCheckElement=f}if(mediaLoadInterval==null){mediaToWaitFor=findAllMediaInElement(f);mediaCallback=b;mediaLoadInterval=setInterval("checkAllMediaLoaded(null,'"+b+"')",300)}else{var a=true;for(var d=0;d<mediaToWaitFor.length;d++){if(mediaToWaitFor[d].readyState<4){a=false}}if(a==true){mediaCheckElement=null;clearInterval(mediaLoadInterval);mediaLoadInterval=null;setTimeout(new String(b),10);mediaCallback=null}}return 1}function getMaxMediaDuration(g,f){var d=0;var b=findAllMediaInElement(g);for(var a=0;a<b.length;a++){if(f==true){b[a].play()}if(b[a].duration>d){d=b[a].duration}}return d}function playAndReset(d){if(d.paused==true&&d.currentTime==0){try{d.play()}catch(b){}}else{try{d.pause();d.addEventListener("seeked",function(){d.play()},true);d.currentTime=0}catch(a){}}}function playPositiveFeedbackDefault(){var b=Math.floor(Math.random()*3);var a=document.getElementById("exesfx_good"+b);playAndReset(a)}function playNegativeFeedbackDefault(){var a=document.getElementById("exesfx_wrong");playAndReset(a)}function playClickSound(){}function makeSoundDOMElements(){var b=new Array();for(var a=0;a<3;a++){b[a]=document.createElement("audio");b[a].setAttribute("src","exesfx_good"+a+".ogg");b[a].setAttribute("id","exesfx_good"+a);b[a].setAttribute("preload","auto")}b[3]=document.createElement("audio");b[3].setAttribute("src","exesfx_wrong.ogg");b[3].setAttribute("id","exesfx_wrong");b[3].setAttribute("preload","auto");return b}function appendSoundHTML(){var a=makeSoundHTML();document.body.innerHTML+=a}var touchScreenDetectDone=false;function doTouchScreenDetect(){if(touchScreenDetectDone==true){return}var a=navigator.userAgent;if(a.indexOf("Android")!=-1){exe_isTouchScreenDev=true}}doTouchScreenDetect();function convertToDropType(){if(exe_isTouchScreenDev){$(".ClozeIdevice INPUT.clozeblank").each(function(){$(this).css("display","none");var b=$(this).attr("id");var d=b.substring(10);var a="setClozeBlankFromCurrentValue('"+d+"')";$(this).after("<span id='span_"+b+"' onclick=\""+a+"\" class='idevicesubblank'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>")});$(".ClozeInstructions LI").css("display","none")}}var lastTouch;function showMe(f,b,d){var g=document.getElementById("popupmessage");hideMe();if(!g||g.innerHTML!=document.getElementById(f).innerHTML){g=document.createElement("div");g.id="popupmessage";g.className="popupDiv";var a=(xpos+b>740)?Math.max(0,xpos-b-15):xpos;g.style.cssText="position:absolute; left: "+(a)+"px; top: "+(ypos-d/2)+"px; width: "+b+"px;";g.innerHTML=document.getElementById(f).innerHTML;document.body.appendChild(g);new dragElement("popupmessage")}}function hideMe(){var a=document.getElementById("popupmessage");if(a){a.parentNode.removeChild(a)}}function updateCoords(d){if(d.pageX==null&&d.clientX!=null){var a=document.body;d.pageX=d.clientX+(d&&d.scrollLeft||a.scrollLeft||0);d.pageY=d.clientY+(d&&d.scrollTop||a.scrollTop||0)}xpos=d.pageX;ypos=d.pageY}function getFeedback(a,b,c,d){var i,id;if(d=="truefalse"){var e='right';if(a==1)e='wrong';var r=document.getElementById("s"+c+"-result");var f=document.getElementById("s"+c);if(!r||!f)return false;var g=$exe_i18n.incorrect;if(r.className==e)g=$exe_i18n.correct;r.innerHTML=g;f.style.display='block'}else{for(i=0;i<b;i++){id="sa"+i+"b"+c;if(i==a)document.getElementById(id).style.display="block";else document.getElementById(id).style.display="none"}}}NOT_ATTEMPTED=0;WRONG=1;CORRECT=2;function onClozeChange(ele){var ident=getClozeIds(ele)[0];var instant=eval(document.getElementById("clozeFlag"+ident+".instantMarking").value);if(instant){checkAndMarkClozeWord(ele);var scorePara=document.getElementById("clozeScore"+ident);scorePara.innerHTML=""}}function clozeSubmit(a){showClozeScore(a,1);toggleElementVisible("submit"+a);toggleElementVisible("restart"+a);toggleElementVisible("showAnswersButton"+a);toggleClozeFeedback(a)}function clozeRestart(a){toggleClozeFeedback(a);toggleClozeAnswers(a,true);toggleElementVisible("restart"+a);toggleElementVisible("showAnswersButton"+a);toggleElementVisible("submit"+a)}function toggleClozeAnswers(j,a){var k=true;var b=getCloseInputs(j);if(!a){for(var f=0;f<b.length;f++){var d=b[f];if(getClozeMark(d)!=2){k=false;break}}}if(k){clearClozeInputs(j,b)}else{fillClozeInputs(j,b)}var g=document.getElementById("clozeScore"+j);g.innerHTML="";var h=document.getElementById("getScore"+j);if(h){h.disabled=!k}}function fillClozeInputs(f,a){if(!a){var a=getCloseInputs(f)}for(var d=0;d<a.length;d++){var b=a[d];b.value=getClozeAnswer(b);markClozeWord(b,CORRECT);b.setAttribute("readonly","readonly")}}function clearClozeInputs(f,a){if(!a){var a=getCloseInputs(f)}for(var d=0;d<a.length;d++){var b=a[d];b.value="";markClozeWord(b,NOT_ATTEMPTED);b.removeAttribute("readonly")}}function checkAndMarkClozeWord(b){var a=checkClozeWord(b);if(a!=""){markClozeWord(b,CORRECT);b.value=a;return CORRECT}else{if(!b.value){markClozeWord(b,NOT_ATTEMPTED);return NOT_ATTEMPTED}else{markClozeWord(b,WRONG);return WRONG}}}function markClozeWord(a,b){switch(b){case 0:a.style.backgroundColor="";break;case 1:a.style.backgroundColor="#FF9999";break;case 2:a.style.backgroundColor="#CCFF99";break}return b}function getClozeMark(b){var a=checkClozeWord(b);if(a!=""){return CORRECT}else{if(!b.value){return NOT_ATTEMPTED}else{return WRONG}}}function getClozeAnswer(l){var h=getClozeIds(l);var d=h[0];var j=h[1];var g=document.getElementById("clozeAnswer"+d+"."+j);var a=g.innerHTML;a=decode64(a);a=unescape(a);result="";var k="X".charCodeAt(0);for(var f=0;f<a.length;f++){var b=a.charCodeAt(f);k^=b;result+=String.fromCharCode(k)}return result}function decode64(f){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var a="";var n,l,j;var m,k,h,g;var d=0;f=f.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{m=b.indexOf(f.charAt(d++));k=b.indexOf(f.charAt(d++));h=b.indexOf(f.charAt(d++));g=b.indexOf(f.charAt(d++));n=(m<<2)|(k>>4);l=((k&15)<<4)|(h>>2);j=((h&3)<<6)|g;a=a+String.fromCharCode(n);if(h!=64){a=a+String.fromCharCode(l)}if(g!=64){a=a+String.fromCharCode(j)}}while(d<f.length);return a}function checkClozeWord(ele){var guess=ele.value;var original=getClozeAnswer(ele);var answer=original;var guess=ele.value;var ident=getClozeIds(ele)[0];var strictMarking=eval(document.getElementById("clozeFlag"+ident+".strictMarking").value);var checkCaps=eval(document.getElementById("clozeFlag"+ident+".checkCaps").value);if(!checkCaps){guess=guess.toLowerCase();answer=original.toLowerCase()}if(guess==answer){return original}else{if(strictMarking||answer.length<=4){return""}else{var i=0;var j=0;var orders=[[answer,guess],[guess,answer]];var maxMisses=Math.floor(answer.length/6)+1;var misses=0;if(guess.length<=maxMisses){misses=Math.abs(guess.length-answer.length);for(i=0;i<guess.length;i++){if(answer.search(guess[i])==-1){misses+=1}}if(misses<=maxMisses){return answer}else{return""}}for(i=0;i<2;i++){var string1=orders[i][0];var string2=orders[i][1];while(string1){misses=Math.floor((Math.abs(string1.length-string2.length)+Math.abs(guess.length-answer.length))/2);var max=Math.min(string1.length,string2.length);for(j=0;j<max;j++){var a=string2.charAt(j);var b=string1.charAt(j);if(a!=b){misses+=1}if(misses>maxMisses){break}}if(misses<=maxMisses){return answer}string1=string1.substr(1)}}return""}}}function getClozeIds(f){var g=f.id.slice(10);var a=g.indexOf(".");var d=g.slice(0,a);var b=g.slice(g.indexOf(".")+1);return[d,b]}function showClozeScore(f,d){var b=0;var a=document.getElementById("cloze"+f);var h=getCloseInputs(f);for(var g=0;g<h.length;g++){var k=h[g];if(d){var l=checkAndMarkClozeWord(k)}else{var l=getClozeMark(k)}if(l==2){b++}}var j=document.getElementById("clozeScore"+f);j.innerHTML=YOUR_SCORE_IS+b+"/"+h.length+"."}function getCloseInputs(d){var b=new Array;var a=document.getElementById("cloze"+d);recurseFindClozeInputs(a,d,b);return b}function recurseFindClozeInputs(b,g,a){for(var d=0;d<b.childNodes.length;d++){var f=b.childNodes[d];if(f.id){if(f.id.search("clozeBlank"+g)==0){a.push(f);continue}}if(f.hasChildNodes()){recurseFindClozeInputs(f,g,a)}}}function toggleClozeFeedback(a,e){var b=document.getElementById('clozeVar'+a+'.feedbackId');if(b){var c=b.value;if(e){if(e.value==$exe_i18n.showFeedback)e.value=$exe_i18n.hideFeedback;else e.value=$exe_i18n.showFeedback}toggleElementVisible(c)}}function toggleElementVisible(a){$("#"+a).toggle()}function insertAtCursor(g,f,d){if(g.selectionStart||g.selectionStart=="0"){var b=g.selectionStart;var a=g.selectionEnd;g.value=g.value.substring(0,b)+f+g.value.substring(a,g.value.length);g.selectionStart=b+f.length-d}else{g.value+=f}g.selectionEnd=g.selectionStart;g.focus()}function insertSymbol(f,b,a){var d=document.getElementById(f);insertAtCursor(d,b,a)}function calcScore(b,h){var k=0,f,a;for(f=0;f<b;f++){var d=document.getElementById(h+f.toString());var g=document.getElementById("ans"+h+f.toString());a="False";if(d.checked==1){a="True"}if(a==d.value){k++;g.style.color="black"}else{g.style.color="red"}}var j=document.getElementById("f"+h);j.style.display="block";alert(YOUR_SCORE_IS+k+"/"+b)}function showFeedback(e,a,b){var i,chk,t,k;for(i=0;i<a;i++){var d=b+i.toString();var g=document.getElementById("op"+d);chk="False";t=$exe_i18n.incorrect;k="wrong";if(g.checked==1)chk="True";if(chk==g.value){t="<strong>"+$exe_i18n.correct+"</strong>";k="right"}var c='<p class="'+k+'-option">'+t+'</p>';var f=$("#feedback-"+d);if(e.value==$exe_i18n.showFeedback)f.html(c).show();else f.hide()}if(e.value==$exe_i18n.showFeedback){$("#f"+b).show();e.value=$exe_i18n.hideFeedback}else{$("#f"+b).hide();e.value=$exe_i18n.showFeedback}}function detectQuickTime(){pluginFound=detectPlugin("QuickTime");return pluginFound}function detectReal(){pluginFound=detectPlugin("RealPlayer");return pluginFound}function detectFlash(){pluginFound=detectPlugin("Shockwave","Flash");return pluginFound}function detectDirector(){pluginFound=detectPlugin("Shockwave","Director");return pluginFound}function detectWindowsMedia(){pluginFound=detectPlugin("Windows Media");return pluginFound}function detectPlugin(){var f=detectPlugin.arguments;var d=false;if(navigator.plugins&&navigator.plugins.length>0){var b=navigator.plugins.length;for(var g=0;g<b;g++){var h=0;for(var a=0;a<f.length;a++){if((navigator.plugins[g].name.indexOf(f[a])>=0)||(navigator.plugins[g].description.indexOf(f[a])>=0)){h++}}if(h==f.length){d=true;break}}}return d}NOT_ATTEMPTED=0;WRONG=1;CORRECT=2;function onClozelangChange(ele){var ident=getClozelangIds(ele)[0];var instant=eval(document.getElementById("clozelangFlag"+ident+".instantMarking").value);if(instant){checkAndMarkClozelangWord(ele);var scorePara=document.getElementById("clozelangScore"+ident);scorePara.innerHTML=""}}function clozelangSubmit(a){showClozelangScore(a,1);toggleElementVisible("submit"+a);toggleClozelangFeedback(a)}function clozelangRestart(a){toggleClozelangFeedback(a);toggleClozelangAnswers(a,true);toggleElementVisible("restart"+a);toggleElementVisible("showAnswersButton"+a);toggleElementVisible("submit"+a)}function toggleClozelangAnswers(j,a){var k=true;var b=getCloseInputsCloze(j);if(!a){for(var f=0;f<b.length;f++){var d=b[f];if(getClozelangMark(d)!=2){k=false;break}}}if(k){clearClozelangInputs(j,b)}else{fillClozelangInputs(j,b)}var g=document.getElementById("clozelangScore"+j);g.innerHTML="";var h=document.getElementById("getScore"+j);if(h){h.disabled=!k}}function fillClozelangInputs(f,a){if(!a){var a=getCloseInputsCloze(f)}for(var d=0;d<a.length;d++){var b=a[d];b.value=getClozelangAnswer(b);markClozeWord(b,CORRECT);b.setAttribute("readonly","readonly")}}function clearClozelangInputs(f,a){if(!a){var a=getCloseInputsCloze(f)}for(var d=0;d<a.length;d++){var b=a[d];b.value="";markClozeWord(b,NOT_ATTEMPTED);b.removeAttribute("readonly")}}function checkAndMarkClozelangWord(b){var a=checkClozelangWord(b);if(a!=""){markClozelangWord(b,CORRECT);b.value=a;return CORRECT}else{if(!b.value){markClozelangWord(b,NOT_ATTEMPTED);return NOT_ATTEMPTED}else{markClozelangWord(b,WRONG);return WRONG}}}function markClozelangWord(a,b){switch(b){case 0:a.style.backgroundColor="";break;case 1:a.style.backgroundColor="#FF9999";break;case 2:a.style.backgroundColor="#CCFF99";break}return b}function getClozelangMark(a){switch(a.style.backgroundColor){case"#FF9999":return 1;case"#CCFF99":return 2;default:return 0}}function getClozelangAnswer(l){var h=getClozelangIds(l);var d=h[0];var j=h[1];var g=document.getElementById("clozelangAnswer"+d+"."+j);var a=g.innerHTML;a=decode64(a);a=unescape(a);result="";var k="X".charCodeAt(0);for(var f=0;f<a.length;f++){var b=a.charCodeAt(f);k^=b;result+=String.fromCharCode(k)}return result}function checkClozelangWord(ele){var guess=ele.value;var original=getClozelangAnswer(ele);var answer=original;var guess=ele.value;var ident=getClozelangIds(ele)[0];var strictMarking=eval(document.getElementById("clozelangFlag"+ident+".strictMarking").value);var checkCaps=eval(document.getElementById("clozelangFlag"+ident+".checkCaps").value);if(!checkCaps){guess=guess.toLowerCase();answer=original.toLowerCase()}if(guess==answer){return original}else{if(strictMarking||answer.length<=4){return""}else{var i=0;var j=0;var orders=[[answer,guess],[guess,answer]];var maxMisses=Math.floor(answer.length/6)+1;var misses=0;if(guess.length<=maxMisses){misses=Math.abs(guess.length-answer.length);for(i=0;i<guess.length;i++){if(answer.search(guess[i])==-1){misses+=1}}if(misses<=maxMisses){return answer}else{return""}}for(i=0;i<2;i++){var string1=orders[i][0];var string2=orders[i][1];while(string1){misses=Math.floor((Math.abs(string1.length-string2.length)+Math.abs(guess.length-answer.length))/2);var max=Math.min(string1.length,string2.length);for(j=0;j<max;j++){var a=string2.charAt(j);var b=string1.charAt(j);if(a!=b){misses+=1}if(misses>maxMisses){break}}if(misses<=maxMisses){return answer}string1=string1.substr(1)}}return""}}}function getClozelangIds(f){var g=f.id.slice(14);var a=g.indexOf(".");var d=g.slice(0,a);var b=g.slice(g.indexOf(".")+1);return[d,b]}function showClozelangScore(ident,mark){var showScore=eval(document.getElementById("clozelangFlag"+ident+".showScore").value);if(showScore){var score=0;var div=document.getElementById("clozelang"+ident);var inputs=getCloseInputsCloze(ident);for(var i=0;i<inputs.length;i++){var input=inputs[i];if(mark){var result=checkAndMarkClozelangWord(input)}else{var result=getClozelangMark(input)}if(result==2){score++}}var scorePara=document.getElementById("clozelangScore"+ident);scorePara.innerHTML=YOUR_SCORE_IS+score+"/"+inputs.length+"."}}function getCloseInputsCloze(d){var b=new Array;var a=document.getElementById("clozelang"+d);recurseFindClozelangInputs(a,d,b);return b}function recurseFindClozelangInputs(b,g,a){for(var d=0;d<b.childNodes.length;d++){var f=b.childNodes[d];if(f.id){if(f.id.search("clozelangBlank"+g)==0){a.push(f);continue}}if(f.hasChildNodes()){recurseFindClozelangInputs(f,g,a)}}}function toggleClozelangFeedback(b){var a=document.getElementById("clozelangVar"+b+".feedbackId");if(a){var d=a.value;toggleElementVisible(d)}}sfHover=function(){var d=document.getElementById("siteNav");if(d){var f=d.getElementsByTagName("LI");for(var a=0;a<f.length;a++){f[a].onmouseover=function(){this.className="sfhover"};f[a].onmouseout=function(){this.className="sfout"}}var b=d.getElementsByTagName("A");for(var a=0;a<b.length;a++){b[a].onfocus=function(){this.className+=(this.className.length>0?" ":"")+"sffocus";this.parentNode.className+=(this.parentNode.className.length>0?" ":"")+"sfhover";if(this.parentNode.parentNode.parentNode.nodeName=="LI"){this.parentNode.parentNode.parentNode.className+=(this.parentNode.parentNode.parentNode.className.length>0?" ":"")+"sfhover";if(this.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="LI"){this.parentNode.parentNode.parentNode.parentNode.parentNode.className+=(this.parentNode.parentNode.parentNode.parentNode.parentNode.className.length>0?" ":"")+"sfhover"}}};b[a].onblur=function(){this.className=this.className.replace(new RegExp("( ?|^)sffocus\\b"),"");this.parentNode.className=this.parentNode.className.replace(new RegExp("( ?|^)sfhover\\b"),"");if(this.parentNode.parentNode.parentNode.nodeName=="LI"){this.parentNode.parentNode.parentNode.className=this.parentNode.parentNode.parentNode.className.replace(new RegExp("( ?|^)sfhover\\b"),"");if(this.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="LI"){this.parentNode.parentNode.parentNode.parentNode.parentNode.className=this.parentNode.parentNode.parentNode.parentNode.parentNode.className.replace(new RegExp("( ?|^)sfhover\\b"),"")}}}}}};if(document.addEventListener){window.addEventListener("load",sfHover,false)}else{window.attachEvent("onload",sfHover)}var ie_media_replace=function(){var k=document.getElementsByTagName("OBJECT");var b=k.length;while(b--){if(k[b].type=="video/quicktime"||k[b].type=="audio/x-pn-realaudio-plugin"){if(typeof(k.classid)=="undefined"){k[b].style.display="none";var g="02BF25D5-8C17-4B23-BC80-D3488ABDDC6B";if(k[b].type=="audio/x-pn-realaudio-plugin"){g="CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA"}var f=k[b].height;var a=k[b].width;var d=k[b].data;var j=document.createElement("DIV");j.innerHTML='<object classid="clsid:'+g+'" data="'+d+'" width="'+a+'" height="'+f+'"><param name="controller" value="true" /><param name="src" value="'+d+'" /><param name="autoplay" value="false" /></object>';k[b].parentNode.insertBefore(j,k[b])}}}};if(navigator.appName=="Microsoft Internet Explorer"){if(document.addEventListener){window.addEventListener("load",ie_media_replace,false)}else{window.attachEvent("onload",ie_media_replace)}}var dO=new Object();dO.snapthresh=20;dO.snapto=false;dO.currID=null;dO.z=0;dO.xo=0;dO.yo=0;dO.ns4=(document.layers)?true:false;dO.ns6=(document.getElementById&&!document.all)?true:false;dO.ie4=(document.all&&!document.getElementById)?true:false;dO.ie5=(document.all&&document.getElementById)?true:false;dO.w3c=(document.getElementById)?true:false;function invsnap(){dO.snapto=!dO.snapto}function findnestedlayer(a,f){var d,b;for(d=0;d<f.layers.length;d++){b=f.layers[d];if(b.name==a){return b}if(b.document.layers.length>0){if((b=findlayer(a,b.document))!=null){return b}}}return null}function trckM(b){if(dO.currID!=null){var a=(dO.ie4||dO.ie5)?event.clientX+document.body.scrollLeft:b.pageX;var d=(dO.ie4||dO.ie5)?event.clientY+document.body.scrollTop:b.pageY;if(dO.snapto){a=Math.ceil(a/dO.snapthresh)*dO.snapthresh;d=Math.ceil(d/dO.snapthresh)*dO.snapthresh}if(dO.ns4){dO.currID.moveTo(a-dO.xo,d-dO.yo)}else{dO.currID.style.top=d-dO.yo+"px";dO.currID.style.left=a-dO.xo+"px"}}return false}function drgI(d){if(dO.currID==null){var b=(dO.ns4)?this.left:parseInt(this.style.left);var a=(dO.ns4)?this.top:parseInt(this.style.top);dO.currID=this;if(dO.ns4){this.zIndex=document.images.length+(dO.z++)}else{this.style.zIndex=document.images.length+(dO.z++)}dO.xo=((dO.ie4||dO.ie5)?event.clientX+document.body.scrollLeft:d.pageX)-b;dO.yo=((dO.ie4||dO.ie5)?event.clientY+document.body.scrollTop:d.pageY)-a;if(dO.snapto){dO.xo=Math.ceil(dO.xo/dO.snapthresh)*dO.snapthresh;dO.yo=Math.ceil(dO.yo/dO.snapthresh)*dO.snapthresh}return false}}function dragElement(a){this.idRef=(dO.ns4)?findnestedlayer(a,document):(dO.ie4)?document.all[a]:document.getElementById(a);if(dO.ns4){this.idRef.captureEvents(Event.MOUSEDOWN|Event.MOUSEUP)}this.idRef.onmousedown=drgI;this.idRef.onmouseup=function(){dO.currID=null}}if(dO.ns4){document.captureEvents(Event.MOUSEMOVE)}document.onmousemove=trckM;window.onresize=function(){if(dO.ns4){setTimeout("history.go(0)",300)}};var $exe={init:function(){var d=document.body.className;d+=' js';$exe.addRoles();if(d!='exe-single-page js'){var ie_v=$exe.isIE();if(ie_v){if(ie_v>7)$exe.iDeviceToggler.init()}else $exe.iDeviceToggler.init()}if(document.body.getAttribute('class')!="exe-epub3"){var h=document.body.innerHTML;if(h.indexOf(' class="mediaelement"')!=-1||h.indexOf(" class='mediaelement")!=-1){$exe.loadMediaPlayer.getPlayer()}}$exe.hint.init()},addRoles:function(){$('#header').attr('role','banner');$('#siteNav').attr('role','navigation');$('#main').attr('role','main');$('#siteFooter').attr('role','contentinfo');$('.js-feedback').attr('role','status')},isIE:function(){var n=navigator.userAgent.toLowerCase();return(n.indexOf('msie')!=-1)?parseInt(n.split('msie')[1]):false},imageGallery:{init:function(i){$("A","#"+i).attr("rel","lightbox["+i+"]")}},hint:{init:function(){$(".iDevice_hint").each(function(i){var x=(i+1);var id="hint-"+x;var h=$(".iDevice_hint_content",this);var t=$(".iDevice_hint_title",this);if(h.length==1&&t.length==1){h.eq(0).attr("id",id);var tit=t.eq(0);var o=tit.html();tit.html('<a href="#'+id+'" title="'+$exe_i18n.show+'" class="hint-toggler show-hint" id="toggle-'+id+'" onclick="$exe.hint.toggle(this);return false" style="background-image:url('+$exe.hint.imgs[0]+')">'+o+'</a>')}})},toggle:function(e){var id=e.id.replace("toggle-","");if(e.title==$exe_i18n.show){$("#"+id).fadeIn("slow");e.title=$exe_i18n.hide;e.className="hint-toggler hide-hint";e.style.backgroundImage="url("+$exe.hint.imgs[1]+")"}else{$("#"+id).fadeOut();e.title=$exe_i18n.show;e.className="hint-toggler show-hint";e.style.backgroundImage="url("+$exe.hint.imgs[0]+")"}}},iDeviceToggler:{init:function(){if($(".iDevice").length<2)return false;var em=$(".iDevice_header,.iDevice.emphasis0");em.each(function(){var t=$exe_i18n.hide;e=$(this),c=e.hasClass('iDevice_header')?'em1':'em0',eP=e.parents('.iDevice_wrapper');if(eP.length){var l='<p class="toggle-idevice toggle-'+c+'"><a href="#" onclick="$exe.iDeviceToggler.toggle(this,\''+eP.attr('id')+'\',\''+c+'\')" title="'+t+'"><span>'+t+'</span></a></p>';if(c=='em1'){var h=e.html();e.html(h+l)}else e.before(l)}});$("INPUT.autocomplete-off").attr("autocomplete","off")},toggle:function(e,id,em){var t=$exe_i18n.hide;var i=$("#"+id);var sel=".iDevice_content";if(em=="em1")sel=".iDevice_inner";var iC=$(sel,i);var c=i.attr("class");if(typeof(c)=='undefined')return false;if(c.indexOf(" hidden-idevice")==-1){t=$exe_i18n.show;c+=" hidden-idevice";iC.slideUp("fast");e.className="show-idevice";e.title=t;e.innerHTML="<span>"+t+"</span>"}else{c=c.replace(" hidden-idevice","");iC.slideDown("fast");e.className="hide-idevice";e.title=t;e.innerHTML="<span>"+t+"</span>"}i.attr("class",c)}},alignMediaElement:function(m){var e=$(m);var p=e.parents().eq(2);var k=p.attr("class");if(typeof(k)=='string'&&k.indexOf("mejs-container")==0){var mL=m.style.marginLeft;var mR=m.style.marginRight;if((mL=='auto')&&(mL==mR))$(p).wrap('<div style="text-align:center"></div>')}},loadMediaPlayer:{getPlayer:function(){$exe.mediaelements=$('.mediaelement');$exe.mediaelements.each(function(){if(typeof(this.localName)!="undefined"&&this.localName=="video"){var w=this.width;var wW=$(window).width();if(w>wW){var nW=(wW-20);var h=parseInt((this.height*nW)/w);this.width=nW;this.height=h}}}).hide();var file='exe_media.js';if(typeof eXe!='undefined'){file='../scripts/mediaelement/'+file}$exe.loadScript(file,"$exe.loadMediaPlayer.getCSS()")},getCSS:function(){var file='exe_media.css';if(typeof eXe!='undefined'){file='../scripts/mediaelement/'+file}$exe.loadScript(file,"$exe.loadMediaPlayer.init()")},init:function(){if(typeof eXe!='undefined'){mejs.MediaElementDefaults.flashName='../scripts/mediaelement/'+mejs.MediaElementDefaults.flashName;mejs.MediaElementDefaults.silverlightName='../scripts/mediaelement/'+mejs.MediaElementDefaults.silverlightName}$exe.mediaelements.mediaelementplayer().show().each(function(){$exe.alignMediaElement(this)})}},loadScript:function(url,callback){var s;if(url.split('.').pop()=="css"){s=document.createElement("link");s.type="text/css";s.rel="stylesheet";s.href=url}else{s=document.createElement("script");s.type="text/javascript";s.src=url}if(s.readyState){s.onreadystatechange=function(){if(s.readyState=="loaded"||s.readyState=="complete"){s.onreadystatechange=null;if(callback)eval(callback)}}}else{s.onload=function(){if(callback)eval(callback)}}document.getElementsByTagName("head")[0].appendChild(s)},toggleFeedback:function(e){var id = e.name.replace("toggle-","");var f = document.getElementById(id);if(f){if(f.className=="feedback js-feedback js-hidden"){f.className="feedback js-feedback";e.value=$exe_i18n.hideFeedback}else{f.className="feedback js-feedback js-hidden";e.value=$exe_i18n.showFeedback}}}};if(typeof jQuery!="undefined"){$(function(){$exe.init()})};